<mvc:View
    controllerName="com.fortify.demo.zui5fiori.controller.Customers"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
    <Page id="customersPage" title="Customers">
        <content>
            <Table id="customersTable"
                items="{/customers}"
                growing="true"
                growingThreshold="20"
                class="sapUiResponsiveMargin"
                width="auto"
                sticky="ColumnHeaders,HeaderToolbar">
                <headerToolbar>
                    <OverflowToolbar id="customersToolbar" design="Transparent">
                        <Title id="customersTitle" text="" level="H2"/>
                        <ToolbarSpacer id="customersToolbarSpacer"/>
                        <SearchField id="customersSearchField" width="50%" search=".onSearch" placeholder="Search customers..." />
                        <Button id="addCustomerBtn" text="Add Customer" icon="sap-icon://add" type="Emphasized" press=".onAddCustomer" />
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column id="cardIdColumn" width="12em" demandPopin="false">
                        <Text id="cardIdHeader" text="Card ID" />
                    </Column>
                    <Column id="customerNameColumn" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text id="customerNameHeader" text="Cardholder Name" />
                    </Column>
                    <Column id="txnCountColumn" minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                        <Text id="txnCountHeader" text="Total Transactions" />
                    </Column>
                    <Column id="totalSpentColumn" minScreenWidth="Desktop" demandPopin="true" hAlign="End">
                        <Text id="totalSpentHeader" text="Total Spent" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem id="customerItem" type="Navigation">
                        <cells>
                            <ObjectIdentifier id="cardId" title="{card_id}" />
                            <Text id="customerName" text="{cardholder_name}" />
                            <ObjectNumber id="txnCount" number="{transaction_count}" emphasized="false" />
                            <ObjectNumber id="totalSpent" 
                                number="{
                                    path: 'total_spent',
                                    type: 'sap.ui.model.type.Float',
                                    formatOptions: {
                                        minFractionDigits: 2,
                                        maxFractionDigits: 2
                                    }
                                }" 
                                unit="USD" 
                                emphasized="true" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
</mvc:View>
